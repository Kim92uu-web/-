<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>å†è§ï¼Œé‡‘ç¡•ç</title>
    <link href="https://fonts.googleapis.com/css2?family=Ma+Shan+Zheng&family=Noto+Sans+SC:wght@300;400&display=swap" rel="stylesheet">
    <style>
        /* --- åŸºç¡€è®¾ç½® --- */
        * { margin: 0; padding: 0; box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        body {
            background-color: #000;
            height: 100vh;
            width: 100vw;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow: hidden;
            font-family: 'Noto Sans SC', sans-serif;
            position: relative;
        }

        /* --- é˜¶æ®µä¸€ & å››ï¼šæ‰‹æœºèŠå¤©ç•Œé¢ --- */
        #phone-screen {
            width: 100%; height: 100%;
            background: #1c1c1e;
            position: absolute; top: 0; left: 0;
            z-index: 200;
            display: flex; flex-direction: column;
            transition: opacity 1.5s ease;
        }

        .chat-header {
            height: 60px;
            display: flex; align-items: center; justify-content: center;
            background: #1c1c1e; color: #fff;
            border-bottom: 1px solid #2c2c2e;
            font-size: 17px; font-weight: 500; padding-top: 10px;
        }

        .chat-area {
            flex: 1; padding: 20px;
            display: flex; flex-direction: column; justify-content: flex-end;
            overflow-y: auto;
        }

        .message {
            max-width: 85%; padding: 12px 16px; margin: 6px 0;
            border-radius: 18px; font-size: 15px; line-height: 1.5;
            opacity: 0; transform: translateY(10px);
            animation: popIn 0.3s forwards; word-wrap: break-word;
        }
        .message.received { background: #2c2c2e; color: #fff; align-self: flex-start; border-bottom-left-radius: 4px; }
        .message.sent { background: #0A84FF; color: #fff; align-self: flex-end; border-bottom-right-radius: 4px; }
        
        /* çº¢è‰²æ„Ÿå¹å·æ ·å¼ */
        .error-msg { font-size: 12px; color: #ff3b30; align-self: flex-end; margin-top: -4px; margin-right: 5px; opacity: 0; transition: opacity 0.5s;}

        .input-area {
            padding: 15px; padding-bottom: 40px;
            background: #1c1c1e; border-top: 1px solid #2c2c2e;
        }

        /* æ¨¡æ‹Ÿè¾“å…¥æ¡† */
        .fake-input {
            width: 100%; padding: 12px 15px;
            background: #000; border-radius: 20px;
            color: #fff; font-size: 15px; min-height: 44px;
            display: flex; align-items: center;
        }
        
        /* çœŸå®è¾“å…¥æ¡†ï¼ˆç”¨äºæœ€åé˜¶æ®µï¼‰ */
        #real-input {
            width: 100%; padding: 12px 15px;
            background: #000; border: none; border-radius: 20px;
            color: #fff; font-size: 15px; outline: none;
            display: none; /* åˆå§‹éšè— */
        }
        #send-btn {
            position: absolute; right: 25px; bottom: 50px;
            color: #0A84FF; font-weight: bold; cursor: pointer; display: none;
        }

        .typing-cursor::after { content: '|'; animation: blink 1s infinite; color: #0A84FF; margin-left: 2px; }

        .start-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.8); z-index: 300;
            display: flex; justify-content: center; align-items: center;
            color: #fff; font-size: 14px; letter-spacing: 2px;
            transition: opacity 0.5s; cursor: pointer; flex-direction: column;
        }

        /* --- é˜¶æ®µäºŒï¼šä¿¡ä»¶åœºæ™¯ --- */
        #letter-scene {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: #050505;
            display: flex; justify-content: center; align-items: center;
            opacity: 0; pointer-events: none;
            transition: opacity 2s ease;
            font-family: 'Ma Shan Zheng', cursive;
            perspective: 1000px;
        }
        #letter-scene.active { opacity: 1; pointer-events: auto; }

        #rain-canvas { position: absolute; top: 0; left: 0; width: 100%; height: 100%; pointer-events: none; z-index: 10; }

        .envelope-wrapper {
            position: relative; width: 80vw; max-width: 320px;
            height: 55vw; max-height: 220px;
            background: #4a3b32; border-radius: 5px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.6);
            cursor: pointer; z-index: 20;
            transition: transform 0.5s;
        }
        
        .lid {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            border-top: 110px solid #5d4a3f;
            border-left: 160px solid transparent; border-right: 160px solid transparent;
            transform-origin: top; transition: transform 0.8s ease 0.5s, z-index 0.2s 0.5s; z-index: 30;
            pointer-events: none;
        }
        .lid.open { transform: rotateX(180deg); z-index: 1; }
        .pocket {
            position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
            border-bottom: 110px solid #6b564a;
            border-left: 160px solid transparent; border-right: 160px solid transparent;
            z-index: 25; pointer-events: none;
        }
        .seal {
            position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
            width: 46px; height: 46px; background: #8B0000; border-radius: 50%;
            box-shadow: 0 2px 5px rgba(0,0,0,0.3); z-index: 40;
            display: flex; justify-content: center; align-items: center;
            color: rgba(255,255,255,0.4); font-size: 14px; border: 2px dashed rgba(255,255,255,0.1);
            transition: opacity 0.5s, transform 0.5s;
        }
        .seal.broken { opacity: 0; transform: translate(-50%, -50%) scale(1.5); pointer-events: none; }

        /* ä¿¡çº¸ */
        .letter {
            position: absolute; bottom: 5px; left: 50%; transform: translateX(-50%);
            width: 90%; height: 90%;
            background: #f4e4bc;
            background-image: linear-gradient(#e3d1a8 1px, transparent 1px);
            background-size: 100% 30px;
            border-radius: 4px; padding: 20px;
            box-shadow: 0 0 5px rgba(0,0,0,0.1);
            z-index: 5; transition: all 1s ease 0.8s;
            overflow: hidden; display: flex; flex-direction: column;
        }
        .letter.open {
            position: fixed; top: 10%; bottom: 10%; height: auto; width: 90vw; max-width: 400px;
            left: 50%; transform: translateX(-50%);
            z-index: 100; box-shadow: 0 20px 50px rgba(0,0,0,0.8);
            overflow-y: auto; -webkit-overflow-scrolling: touch; padding-bottom: 50px;
        }
        .letter::-webkit-scrollbar { width: 4px; }
        .letter::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 2px; }

        .text-line {
            opacity: 0; margin-bottom: 10px; font-size: 18px; line-height: 30px;
            color: #2c2c2c; flex-shrink: 0;
        }
        .fade-in { animation: fadeInEffect 1.5s forwards; }

        /* --- ç©æ³•ï¼šç‡ƒçƒ§çš„ç…§ç‰‡ --- */
        .polaroid-container {
            position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(5deg) scale(0);
            width: 250px; padding: 15px 15px 50px 15px;
            background: #fff; box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            z-index: 200; opacity: 0; transition: all 1s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            cursor: pointer;
        }
        .polaroid-container.show { opacity: 1; transform: translate(-50%, -50%) rotate(-3deg) scale(1); }
        
        .photo-img {
            width: 100%; height: 220px; object-fit: cover;
            filter: sepia(0.3) contrast(1.1); background: #eee;
        }
        
        /* ç‡ƒçƒ§ç‰¹æ•ˆ */
        .burning {
            animation: burnAway 2.5s forwards;
            pointer-events: none;
        }
        
        @keyframes burnAway {
            0% { filter: brightness(1); opacity: 1; mask-image: linear-gradient(to bottom, black 100%, transparent 100%); -webkit-mask-image: linear-gradient(to bottom, black 100%, transparent 100%); }
            40% { filter: brightness(1.5) sepia(1) hue-rotate(-30deg); }
            100% { 
                filter: brightness(0) blur(10px); 
                opacity: 0; 
                transform: translate(-50%, -40%) rotate(10deg) scale(0.9);
                /* ä»ä¸­å¿ƒå‘å¤–æ‰©æ•£çš„é®ç½©æ¨¡æ‹Ÿç‡ƒçƒ§æ®†å°½ */
                mask-image: radial-gradient(circle, transparent 100%, black 100%);
                -webkit-mask-image: radial-gradient(circle, transparent 100%, black 100%);
            }
        }
        
        /* æ¨¡æ‹Ÿç«å…‰ */
        .fire-overlay {
            position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: radial-gradient(circle, rgba(255,100,0,0.6) 0%, transparent 70%);
            opacity: 0; mix-blend-mode: hard-light; pointer-events: none;
        }
        .burning .fire-overlay { animation: fireFlash 2.5s forwards; }

        @keyframes fireFlash { 0% { opacity: 0; } 20% { opacity: 1; } 100% { opacity: 0; } }
        @keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0.3; } }
        @keyframes popIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        @keyframes fadeInEffect { from { opacity: 0; transform: translateY(5px); } to { opacity: 1; transform: translateY(0); } }

    </style>
</head>
<body>

    <audio id="bgm" loop preload="auto">
        <source src="https://music.163.com/song/media/outer/url?id=1386599528.mp3" type="audio/mpeg">
    </audio>
    <audio id="fire-sound" preload="auto">
        <!-- ç®€å•çš„ç‡ƒçƒ§éŸ³æ•ˆ -->
        <source src="https://www.soundjay.com/nature/fire-1.mp3" type="audio/mpeg">
    </audio>

    <!-- é˜¶æ®µä¸€ï¼šåˆå§‹ç•Œé¢ -->
    <div id="phone-screen">
        <div class="start-overlay" id="start-btn">
            <div style="font-size: 20px; margin-bottom: 10px;">North Water County</div>
            <div style="font-size: 12px; color: #aaa;">ğŸ§ æˆ´ä¸Šè€³æœºä½“éªŒæœ€ä½³</div>
            <div style="margin-top: 30px; border: 1px solid #fff; padding: 10px 20px; border-radius: 20px;">ç‚¹å‡»å¼€å§‹</div>
        </div>
        <div class="chat-header">é‡‘ç¡•ç (Jin)</div>
        <div class="chat-area" id="chat-box"></div>
        <div class="input-area">
            <div class="fake-input typing-cursor" id="fake-input-text"></div>
            <!-- æœ€åçš„çœŸå®è¾“å…¥æ¡† -->
            <input type="text" id="real-input" placeholder="ç»™ä»–å‘æœ€åä¸€æ¡ä¿¡æ¯..." maxlength="20">
            <div id="send-btn">å‘é€</div>
        </div>
    </div>

    <!-- é˜¶æ®µäºŒï¼šä¿¡ä»¶ç•Œé¢ -->
    <div id="letter-scene">
        <canvas id="rain-canvas"></canvas>
        <div class="envelope-wrapper" id="envelope">
            <div class="lid" id="lid"></div>
            <div class="letter" id="letter">
                <div class="text-line">Userï¼Œå±•ä¿¡ä½³ã€‚</div>
                <div class="text-line">åŒ—æ°´çš„é›¨å­£åˆè¦åˆ°äº†ï¼Œä¸çŸ¥é“ä½ é‚£é‡Œæœ‰æ²¡æœ‰å¸¦ä¼ã€‚</div>
                <div class="text-line">åŸè°…æˆ‘ç”¨è¿™ç§æ–¹å¼å‘Šåˆ«ï¼Œé¢å¯¹ä½ ï¼Œæˆ‘æ€•æˆ‘ä¼šå¿ƒè½¯ã€‚</div>
                <div class="text-line">æ›¾ç»é‚£ä¸ªç©¿ç™½è¡¬è¡«çš„å°‘å¹´ï¼Œå·²ç»æ­»åœ¨è¿˜ä¸å®Œçš„è´¦å•é‡Œäº†ã€‚</div>
                <div class="text-line">ç°åœ¨çš„æˆ‘åŒæ‰‹å¤ªè„ï¼ŒæŠ±ä¸ç´§ä½ ï¼Œä¹Ÿç»™ä¸äº†ä½ æƒ³è¦çš„æœªæ¥ã€‚</div>
                <div class="text-line">çˆ±æ˜¯çœŸçš„ï¼Œä½†æƒ³è®©ä½ èµ°ä¹Ÿæ˜¯çœŸçš„ã€‚</div>
                <div class="text-line">åˆ«ç­‰æˆ‘äº†ï¼Œé‚£ä¸ªæ— åº•æ´å¤ªæ·±ï¼Œä¸è¯¥æŠŠä½ è¿™æŸå…‰ä¹Ÿæ‹½è¿›æ¥ã€‚</div>
                <div class="text-line">ä½ åº”è¯¥å»æ‰¾ä¸ªèƒ½åœ¨ä¸‹é›¨å¤©ä¸ºä½ é€ä¼çš„äººï¼Œè€Œä¸æ˜¯åƒæˆ‘è¿™æ ·ã€‚</div>
                <div class="text-line">å¿˜äº†æˆ‘ï¼Œè¿™æ˜¯æˆ‘å¯¹ä½ æœ€åçš„è¯·æ±‚ï¼Œä¹Ÿæ˜¯æˆ‘æœ€åçš„çˆ±æ„ã€‚</div>
                <div class="text-line" style="text-align: right; margin-top: 30px;">â€”â€” é‚£ä¸ªå·²æˆè¿‡å»çš„ é‡‘ç¡•ç</div>
                <div style="height: 100px;"></div>
            </div>
            <div class="pocket"></div>
            <div class="seal" id="seal">Jin</div>
            <div style="position:absolute; bottom:-30px; width:100%; text-align:center; color:#888; font-size:12px; animation:blink 2s infinite;" id="open-hint">ç‚¹å‡»å¼€å¯</div>
        </div>
    </div>

    <!-- é˜¶æ®µä¸‰ï¼šç…§ç‰‡ -->
    <div class="polaroid-container" id="photo-card">
        <div class="fire-overlay"></div>
        <!-- âš ï¸ è¯·åœ¨è¿™é‡Œæ›¿æ¢æˆä½ ä»¬çš„åˆç…§/é‡‘ç¡•ççš„ç…§ç‰‡é“¾æ¥ -->
        <img src="https://img.baidu.re/i/2026/01/h3ra45.jpg" class="photo-img" alt="Memory">
        <div style="text-align: center; color: #333; margin-top: 10px; font-family: 'Ma Shan Zheng'; font-size: 18px;">That Year @ Beishui</div>
        <div style="text-align: center; color: #999; font-size: 10px; margin-top: 5px;">ç‚¹å‡»é”€æ¯å›å¿†</div>
    </div>

    <script>
        // --- æ ¸å¿ƒå˜é‡ ---
        const startBtn = document.getElementById('start-btn');
        const phoneScreen = document.getElementById('phone-screen');
        const chatBox = document.getElementById('chat-box');
        const fakeInput = document.getElementById('fake-input-text');
        const letterScene = document.getElementById('letter-scene');
        const bgm = document.getElementById('bgm');
        const fireSound = document.getElementById('fire-sound');
        
        let rainSpeed = 5; // åˆå§‹é›¨é€Ÿ

        // --- å¯åŠ¨é€»è¾‘ ---
        startBtn.addEventListener('click', () => {
            startBtn.style.opacity = 0;
            setTimeout(() => startBtn.style.display = 'none', 500);
            bgm.volume = 0.5;
            bgm.play().catch(e => console.log("Audio needed interaction"));
            runDramaPart1();
        });

        // --- æ¨¡æ‹Ÿæ‰“å­—/èŠå¤© ---
        async function typeFake(text) {
            fakeInput.innerText = "";
            for (let i = 0; i < text.length; i++) {
                fakeInput.innerText += text[i];
                await new Promise(r => setTimeout(r, 80 + Math.random() * 50)); 
            }
            await new Promise(r => setTimeout(r, 600));
        }
        async function deleteFake() {
            let text = fakeInput.innerText;
            while (text.length > 0) {
                text = text.slice(0, -1);
                fakeInput.innerText = text;
                await new Promise(r => setTimeout(r, 30)); 
            }
        }
        function addMsg(text, type='received') {
            const msg = document.createElement('div');
            msg.className = `message ${type}`;
            msg.innerText = text;
            chatBox.appendChild(msg);
            chatBox.scrollTop = chatBox.scrollHeight;
        }

        async function runDramaPart1() {
            await new Promise(r => setTimeout(r, 1000));
            // å‰§æƒ…å¼€å§‹
            await typeFake("æˆ‘ä»¬...è§ä¸€é¢å§ï¼Ÿ");
            await new Promise(r => setTimeout(r, 800));
            await deleteFake(); // çŠ¹è±«æ’¤å›

            await typeFake("æˆ‘å¥½æƒ³ä½ ");
            await new Promise(r => setTimeout(r, 1000));
            await deleteFake(); // å†æ¬¡æ’¤å›

            await typeFake("æˆ‘ä»¬ç®—äº†å§ã€‚"); // ç‹ å¿ƒ
            await new Promise(r => setTimeout(r, 500));
            fakeInput.innerText = "";
            addMsg("æˆ‘ä»¬ç®—äº†å§ã€‚", 'sent');
            
            await new Promise(r => setTimeout(r, 2000));
            addMsg("åˆ«ç­‰æˆ‘äº†ï¼Œä¸å€¼å¾—ã€‚", 'sent');
            
            await new Promise(r => setTimeout(r, 3000));
            
            // è½¬åœºåˆ°ä¿¡ä»¶
            phoneScreen.style.opacity = 0;
            setTimeout(() => {
                phoneScreen.style.display = 'none';
                letterScene.classList.add('active');
            }, 1500);
        }

        // --- ä¿¡ä»¶äº¤äº’ ---
        const envelope = document.getElementById('envelope');
        const lid = document.getElementById('lid');
        const letter = document.getElementById('letter');
        const seal = document.getElementById('seal');
        const lines = document.querySelectorAll('.text-line');
        const photoCard = document.getElementById('photo-card');
        let isOpened = false;

        envelope.addEventListener('click', function() {
            if (isOpened) return;
            isOpened = true;
            document.getElementById('open-hint').style.display = 'none';
            seal.classList.add('broken');
            
            setTimeout(() => lid.classList.add('open'), 200);
            setTimeout(() => letter.classList.add('open'), 800);
            
            let delay = 1800;
            lines.forEach((line, index) => {
                setTimeout(() => {
                    line.classList.add('fade-in');
                    rainSpeed += 1; // é›¨è¶Šä¸‹è¶Šå¤§
                    if(index > 4) letter.scrollTop = letter.scrollHeight;
                    
                    // æœ€åä¸€è¡Œæ˜¾ç¤ºå®Œï¼Œæ‰è½ç…§ç‰‡
                    if (index === lines.length - 1) {
                        setTimeout(() => dropPhoto(), 2000);
                    }
                }, delay + (index * 1500)); // é˜…è¯»é€Ÿåº¦å˜æ…¢ï¼Œæ›´ä¼¤æ„Ÿ
            });
        });

        // --- ç…§ç‰‡ç©æ³• ---
        function dropPhoto() {
            photoCard.classList.add('show');
        }

        photoCard.addEventListener('click', function() {
            if(this.classList.contains('burning')) return;
            
            // æ’­æ”¾ç‡ƒçƒ§éŸ³æ•ˆ
            fireSound.volume = 0.8;
            fireSound.play();
            
            // å¼€å§‹ç‡ƒçƒ§åŠ¨ç”»
            this.classList.add('burning');
            
            // çƒ§å®Œåçš„é€»è¾‘
            setTimeout(() => {
                this.style.display = 'none';
                letterScene.style.opacity = 0; // ä¿¡ä»¶èƒŒæ™¯æ¶ˆå¤±
                showFinalInput(); // è¿›å…¥æœ€åçš„ BE ç¯èŠ‚
            }, 2400);
        });

        // --- æœ€ç»ˆç¯èŠ‚ï¼šè¢«æ‹’æ”¶çš„æ¶ˆæ¯ ---
        function showFinalInput() {
            setTimeout(() => {
                phoneScreen.style.display = 'flex';
                // æ¸…ç©ºä¹‹å‰çš„èŠå¤©è®°å½•ï¼Œåˆ¶é€ ä¸€ç§ç‰©æ˜¯äººéçš„æ„Ÿè§‰ï¼Œæˆ–è€…ä¿ç•™
                // è¿™é‡Œé€‰æ‹©ä¿ç•™ï¼Œä½†ç•Œé¢è¦çœ‹èµ·æ¥æ›´å†·æ¸…
                phoneScreen.style.opacity = 1;
                document.querySelector('.fake-input').style.display = 'none';
                const realInput = document.getElementById('real-input');
                const sendBtn = document.getElementById('send-btn');
                
                realInput.style.display = 'block';
                sendBtn.style.display = 'block';
                realInput.focus();
                
                // ç»‘å®šå‘é€äº‹ä»¶
                sendBtn.addEventListener('click', handleFinalSend);
            }, 1000);
        }

        function handleFinalSend() {
            const realInput = document.getElementById('real-input');
            const txt = realInput.value;
            if(!txt) return;

            // 1. æ˜¾ç¤ºç”¨æˆ·å‘é€çš„æ°”æ³¡
            addMsg(txt, 'sent');
            realInput.value = '';
            
            // 2. å»¶è¿Ÿæ˜¾ç¤ºçº¢è‰²æ„Ÿå¹å·
            setTimeout(() => {
                const lastMsg = chatBox.lastElementChild;
                const errorSpan = document.createElement('span');
                errorSpan.className = 'error-msg';
                errorSpan.innerHTML = '<br><strong>!</strong> æ¶ˆæ¯å·²å‘å‡ºï¼Œä½†è¢«å¯¹æ–¹æ‹’æ”¶äº†ã€‚';
                errorSpan.style.display = 'block';
                errorSpan.style.color = '#ff3b30';
                errorSpan.style.fontSize = '12px';
                errorSpan.style.marginTop = '5px';
                
                lastMsg.appendChild(errorSpan);
                lastMsg.style.opacity = 0.7; // æ¶ˆæ¯å˜æš—
                
                // æ­¤æ—¶èƒŒæ™¯éŸ³ä¹æ¸å¼±åœæ­¢
                let vol = 0.5;
                const fadeOut = setInterval(() => {
                    if(vol > 0) {
                        vol -= 0.05;
                        bgm.volume = Math.max(0, vol);
                    } else {
                        clearInterval(fadeOut);
                        bgm.pause();
                    }
                }, 200);
                
            }, 500);
        }

        // --- é›¨æ»´ç‰¹æ•ˆ (Canvas) ---
        const rCanvas = document.getElementById('rain-canvas');
        const rCtx = rCanvas.getContext('2d');
        function resizeCanvas() { rCanvas.width = window.innerWidth; rCanvas.height = window.innerHeight; }
        window.addEventListener('resize', resizeCanvas); resizeCanvas();

        const rains = [];
        class Rain {
            constructor() {
                this.reset();
            }
            reset() {
                this.x = Math.random() * rCanvas.width;
                this.y = Math.random() * -rCanvas.height;
                this.length = Math.random() * 20 + 10;
                this.speed = Math.random() * 2 + rainSpeed; // åŸºç¡€é€Ÿåº¦
            }
            update() {
                this.y += this.speed + (rainSpeed - 5); // åŠ¨æ€åŠ é€Ÿ
                if (this.y > rCanvas.height) this.reset();
            }
            draw() {
                rCtx.strokeStyle = 'rgba(174,194,224,0.3)';
                rCtx.lineWidth = 1.5;
                rCtx.beginPath();
                rCtx.moveTo(this.x, this.y);
                rCtx.lineTo(this.x, this.y + this.length);
                rCtx.stroke();
            }
        }
        for(let i=0; i<100; i++) rains.push(new Rain());
        
        function animateRain() {
            rCtx.clearRect(0, 0, rCanvas.width, rCanvas.height);
            rains.forEach(r => { r.update(); r.draw(); });
            requestAnimationFrame(animateRain);
        }
        animateRain();

    </script>
</body>
</html>
